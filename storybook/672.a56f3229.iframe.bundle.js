"use strict";(self.webpackChunkreact_shopping_cart=self.webpackChunkreact_shopping_cart||[]).push([[672],{"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/common/Counter/Counter.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Counter_Counter}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/hi2/index.esm.js"),Counter_useCounterHandler=function useCounterHandler(_ref){var count=_ref.count,updateCount=_ref.updateCount,onClickedButton=_ref.onClickedButton,onChangedInput=_ref.onChangedInput,onBlurredInput=_ref.onBlurredInput,_ref$min=_ref.min,min=void 0===_ref$min?0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?99:_ref$max;return{handleIncreaseButtonClick:function handleIncreaseButtonClick(){var increasedCount=count+1;increasedCount>max||(updateCount(increasedCount),null==onClickedButton||onClickedButton(increasedCount))},handleDecreaseButtonClick:function handleDecreaseButtonClick(){var decreasedCount=count-1;decreasedCount<min||(updateCount(decreasedCount),null==onClickedButton||onClickedButton(decreasedCount))},handleInputChange:function handleInputChange(event){var value=event.target.value;if(function isNumericString(value){return/^\d*$/.test(value)}(value)){var valueToNumber=Number(value);valueToNumber>max?updateCount(max):valueToNumber<min?updateCount(min):(updateCount(valueToNumber),null==onChangedInput||onChangedInput(valueToNumber))}},handleInputBlur:function handleInputBlur(){null==onBlurredInput||onBlurredInput(count)}}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Counter=function Counter(_ref){var count=_ref.count,updateCount=_ref.updateCount,onClickedButton=_ref.onClickedButton,onChangedInput=_ref.onChangedInput,onBlurredInput=_ref.onBlurredInput,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,_ref$min=_ref.min,min=void 0===_ref$min?0:_ref$min,_ref$max=_ref.max,_useCounterHandler=Counter_useCounterHandler({count:count,updateCount:updateCount,onClickedButton:onClickedButton,onChangedInput:onChangedInput,onBlurredInput:onBlurredInput,min:min,max:void 0===_ref$max?99:_ref$max}),handleDecreaseButtonClick=_useCounterHandler.handleDecreaseButtonClick,handleIncreaseButtonClick=_useCounterHandler.handleIncreaseButtonClick,handleInputBlur=_useCounterHandler.handleInputBlur,handleInputChange=_useCounterHandler.handleInputChange;return(0,jsx_runtime.jsxs)(CounterContainer,{size:size,children:[(0,jsx_runtime.jsx)(CounterButton,{onClick:handleDecreaseButtonClick,children:(0,jsx_runtime.jsx)(index_esm.O$V,{size:"32px"})}),(0,jsx_runtime.jsx)(Input,{type:"text",value:count,onChange:handleInputChange,onBlur:handleInputBlur}),(0,jsx_runtime.jsx)(CounterButton,{onClick:handleIncreaseButtonClick,children:(0,jsx_runtime.jsx)(index_esm.PW$,{size:"32px"})})]})},CounterContainer=styled_components_browser_esm.zo.span(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n\n  border: 1px solid #dddddd;\n\n  ","\n"])),(function(_ref2){var size=_ref2.size;return"medium"===size&&(0,styled_components_browser_esm.iv)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n        width: 120px;\n        height: 42px;\n\n        & > * {\n          width: 40px;\n          height: 40px;\n\n          font-size: 24px;\n        }\n      "])))||"small"===size&&(0,styled_components_browser_esm.iv)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n        width: 92px;\n\n        & > * {\n          width: 30px;\n          height: 30px;\n\n          font-size: 16px;\n        }\n      "])))})),Input=styled_components_browser_esm.zo.input(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  border: none;\n\n  font-weight: 400;\n  color: #333;\n\n  text-align: center;\n"]))),CounterButton=styled_components_browser_esm.zo.button(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background-color: #fff;\n  border: none;\n\n  cursor: pointer;\n"]))),Counter_Counter=Counter;try{Counter.displayName="Counter",Counter.__docgenInfo={description:"",displayName:"Counter",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},updateCount:{defaultValue:null,description:"",name:"updateCount",required:!0,type:{name:"(count: number) => void"}},onClickedButton:{defaultValue:null,description:"",name:"onClickedButton",required:!1,type:{name:"((quantity: number) => void)"}},onChangedInput:{defaultValue:null,description:"",name:"onChangedInput",required:!1,type:{name:"((quantity: number) => void)"}},onBlurredInput:{defaultValue:null,description:"",name:"onBlurredInput",required:!1,type:{name:"((quantity: number) => void)"}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"medium"'},{value:'"small"'}]}},min:{defaultValue:{value:"0"},description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:{value:"99"},description:"",name:"max",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/Counter/Counter.tsx#Counter"]={docgenInfo:Counter.__docgenInfo,name:"Counter",path:"src/components/common/Counter/Counter.tsx#Counter"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/common/Image/Image.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Image=function Image(_ref){var src=_ref.src,_ref$alt=_ref.alt,alt=void 0===_ref$alt?"":_ref$alt,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ImageWrapper,{size:size,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Img,{src:src,loading:"lazy",alt:alt,size:size}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ImageBackground,{})]})},imageSizeMapper={large:"282px",medium:"145px",small:"70px"},ImageWrapper=styled_components__WEBPACK_IMPORTED_MODULE_1__.zo.div(_templateObject||(_templateObject=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  ","\n\n  display: flex;\n  position: relative;\n"])),(function(_ref2){var size=_ref2.size;return(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(_templateObject2||(_templateObject2=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    width: ",";\n    height: ",";\n  "])),imageSizeMapper[size],imageSizeMapper[size])})),Img=styled_components__WEBPACK_IMPORTED_MODULE_1__.zo.img(_templateObject3||(_templateObject3=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  ","\n\n  object-fit: cover;\n"])),(function(_ref3){var size=_ref3.size;return(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(_templateObject4||(_templateObject4=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    width: ",";\n    height: ",";\n  "])),imageSizeMapper[size],imageSizeMapper[size])})),ImageBackground=styled_components__WEBPACK_IMPORTED_MODULE_1__.zo.div(_templateObject5||(_templateObject5=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  background-color: rgba(0, 0, 0, 0.05);\n"])));__webpack_exports__.Z=Image;try{Image.displayName="Image",Image.__docgenInfo={description:"",displayName:"Image",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},alt:{defaultValue:{value:""},description:"",name:"alt",required:!1,type:{name:"string"}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"medium"'},{value:'"small"'},{value:'"large"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/Image/Image.tsx#Image"]={docgenInfo:Image.__docgenInfo,name:"Image",path:"src/components/common/Image/Image.tsx#Image"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/common/LoadingSpinner/LoadingSpinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LoadingSpinner=function LoadingSpinner(props){var diameter=props.diameter,spinnerWidth=props.spinnerWidth,color=props.color;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SpinnerDiv,{style:{width:null!=diameter?diameter:"77px",height:null!=diameter?diameter:"77px",borderWidth:null!=spinnerWidth?spinnerWidth:"7px",borderTopColor:null!=color?color:"hotpink"}})},SpinnerDiv=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div(_templateObject||(_templateObject=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  content: '';\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  border: 10px solid rgba(0, 0, 0, 0.05);\n  border-top-color: rgb(255, 105, 180);\n  border-radius: 50%;\n\n  animation: spin 2.3s cubic-bezier(0.2, 0.33, 0.8, 0.33) infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0);\n    }\n    33% {\n      transform: rotate(120deg);\n    }\n    67% {\n      transform: rotate(240deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])));__webpack_exports__.Z=LoadingSpinner;try{LoadingSpinner.displayName="LoadingSpinner",LoadingSpinner.__docgenInfo={description:"",displayName:"LoadingSpinner",props:{diameter:{defaultValue:null,description:"",name:"diameter",required:!1,type:{name:"string"}},spinnerWidth:{defaultValue:null,description:"",name:"spinnerWidth",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/LoadingSpinner/LoadingSpinner.tsx#LoadingSpinner"]={docgenInfo:LoadingSpinner.__docgenInfo,name:"LoadingSpinner",path:"src/components/common/LoadingSpinner/LoadingSpinner.tsx#LoadingSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/product/ProductItem/ProductItem.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ProductItem_ProductItem}});var _templateObject,_templateObject2,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Image=__webpack_require__("./src/components/common/Image/Image.tsx"),formatPrice=__webpack_require__("./src/utils/formatPrice.ts"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),index_esm=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),cartState=__webpack_require__("./src/globalState/atoms/cartState.ts"),selectors_getCartItemId=(0,es.CG)({key:"getCartId",get:function get(productId){return function(_ref){var cartProduct=(0,_ref.get)(cartState.Z).find((function(_ref2){return _ref2.product.id===productId}));return cartProduct?cartProduct.id:null}},cachePolicy_UNSTABLE:{eviction:"lru",maxSize:0}}),getCartStateController=__webpack_require__("./src/globalState/selectors/getCartStateController.ts"),selectors_productQuantityInCart=(0,es.CG)({key:"productQuantityInCart",get:function get(productId){return function(_ref){var product=(0,_ref.get)(cartState.Z).find((function(cartItem){return cartItem.product.id===productId}));return product?product.quantity:0}}}),useCartItemApi=__webpack_require__("./src/hooks/api/useCartItemApi.ts"),Counter=__webpack_require__("./src/components/common/Counter/Counter.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ProductCounter=function ProductCounter(product){var productId=product.id,_useCartItemApi=(0,useCartItemApi.Z)(),addCartItem=_useCartItemApi.addCartItem,updateCartItemQuantity=_useCartItemApi.updateCartItemQuantity,deleteCartItem=_useCartItemApi.deleteCartItem,cartItemId=(0,es.sJ)(selectors_getCartItemId(productId)),quantityInCart=(0,es.sJ)(selectors_productQuantityInCart(productId)),cartContoller=(0,es.sJ)((0,getCartStateController.Z)(cartItemId)),_useState=(0,react.useState)(quantityInCart),_useState2=(0,slicedToArray.Z)(_useState,2),count=_useState2[0],setCount=_useState2[1];(0,react.useEffect)((function(){count!==quantityInCart&&setCount(quantityInCart)}),[cartItemId]);var handleAddCartButtonClick=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var newCartItemId;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,addCartItem(product);case 2:newCartItemId=_context.sent,setCount(1),cartContoller.add(newCartItemId,1,product);case 5:case"end":return _context.stop()}}),_callee)})));return function handleAddCartButtonClick(){return _ref.apply(this,arguments)}}(),handleNoQuantityAction=function handleNoQuantityAction(quantity){0===quantity&&null!==cartItemId&&(deleteCartItem(cartItemId),cartContoller.delete())};return(0,jsx_runtime.jsx)(CartButtonWrapper,{children:count?(0,jsx_runtime.jsx)(Counter.Z,{count:count,updateCount:function updateCount(quantity){setCount(quantity),0!==quantity&&null!==cartItemId&&(updateCartItemQuantity(cartItemId)(quantity),cartContoller.set(quantity))},onClickedButton:handleNoQuantityAction,onBlurredInput:handleNoQuantityAction,onChangedInput:handleNoQuantityAction}):(0,jsx_runtime.jsx)(CartButton,{type:"button","aria-label":"장바구니에 추가하기",onClick:handleAddCartButtonClick,children:(0,jsx_runtime.jsx)(index_esm.GPR,{size:"25px"})})})},CartButtonWrapper=styled_components_browser_esm.ZP.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n"]))),CartButton=styled_components_browser_esm.ZP.button(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  background: #fff;\n  border: 1px solid #dddddd;\n\n  padding: 7px;\n\n  cursor: pointer;\n"]))),ProductCounter_ProductCounter=ProductCounter;try{ProductCounter.displayName="ProductCounter",ProductCounter.__docgenInfo={description:"",displayName:"ProductCounter",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/product/ProductCounter/ProductCounter.tsx#ProductCounter"]={docgenInfo:ProductCounter.__docgenInfo,name:"ProductCounter",path:"src/components/product/ProductCounter/ProductCounter.tsx#ProductCounter"})}catch(__react_docgen_typescript_loader_error){}var ProductItem_templateObject,ProductItem_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,LoadingSpinner=__webpack_require__("./src/components/common/LoadingSpinner/LoadingSpinner.tsx"),ProductItem=function ProductItem(product){var id=product.id,name=product.name,price=product.price,imageUrl=product.imageUrl;return(0,jsx_runtime.jsxs)(ItemContainer,{children:[(0,jsx_runtime.jsxs)(ProductImageWrapper,{children:[(0,jsx_runtime.jsx)(Image.Z,{src:imageUrl,alt:name,size:"large"}),(0,jsx_runtime.jsx)(react.Suspense,{fallback:(0,jsx_runtime.jsx)(Fallback,{children:(0,jsx_runtime.jsx)(LoadingSpinner.Z,{color:"#04c09e",spinnerWidth:"5px",diameter:"22px"})}),children:(0,jsx_runtime.jsx)(ProductCounter_ProductCounter,{id:id,name:name,price:price,imageUrl:imageUrl})})]}),(0,jsx_runtime.jsx)(Contents,{children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Title,{children:name}),(0,jsx_runtime.jsx)(Price,{children:(0,formatPrice.T)(price)})]})})]})},ItemContainer=styled_components_browser_esm.zo.div(ProductItem_templateObject||(ProductItem_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 18px;\n  width: 282px;\n  height: 358px;\n"]))),ProductImageWrapper=styled_components_browser_esm.zo.div(ProductItem_templateObject2||(ProductItem_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  position: relative;\n"]))),Contents=styled_components_browser_esm.zo.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 12px;\n"]))),Title=styled_components_browser_esm.zo.p(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  font-size: 16px;\n  font-weight: 400;\n"]))),Price=styled_components_browser_esm.zo.p(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  margin-top: 3px;\n  font-size: 20px;\n  font-weight: 400;\n"]))),Fallback=styled_components_browser_esm.zo.div(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n\n  padding: 7px;\n\n  background: #ffffff;\n  border: 1px solid #dddddd;\n"]))),ProductItem_ProductItem=ProductItem;try{ProductItem.displayName="ProductItem",ProductItem.__docgenInfo={description:"",displayName:"ProductItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/product/ProductItem/ProductItem.tsx#ProductItem"]={docgenInfo:ProductItem.__docgenInfo,name:"ProductItem",path:"src/components/product/ProductItem/ProductItem.tsx#ProductItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/constant/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Er:function(){return ORDER_PATH_NAME},Hi:function(){return CART_ITEMS_PATH_NAME},Wq:function(){return USER_AUTH_TOKEN},Yv:function(){return ALL_COUPONS_PATH_NAME},_n:function(){return BASE_URL},hM:function(){return PRODUCTS_PATH_NAME},jA:function(){return DEFAULT_SERVER_NAME},v8:function(){return USER_COUPONS_PATH_NAME}});var BASE_URL={"참새MSW":"","누누":"https://nunu.bview.store","체인저":"https://shopping.pilyang.com","필립":"https://shopping-cart.woojin.life","필립2":"https://philip.bview.store","백엔드짱":"https://sorry.bview.store"},DEFAULT_SERVER_NAME=Object.keys(BASE_URL)[0],PRODUCTS_PATH_NAME="/products",CART_ITEMS_PATH_NAME="/cart-items",ALL_COUPONS_PATH_NAME="/coupons",USER_COUPONS_PATH_NAME="/coupons/me",ORDER_PATH_NAME="/orders",USER_AUTH_TOKEN=btoa("".concat("a@a.com",":").concat("1234"))},"./src/globalState/atoms/cartState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return atoms_cartState}});var _get2,es=__webpack_require__("./node_modules/recoil/es/index.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),constant=__webpack_require__("./src/constant/index.ts"),ServerUrl=__webpack_require__("./src/utils/ServerUrl.ts"),atoms_serverName=__webpack_require__("./src/globalState/atoms/serverName.ts"),fetchCartItems=(0,es.nZ)({key:"fetchCartItems",get:(_get2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(_ref){var _get,serverName,cartItemsUrl,response,cartItemList;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _get=_ref.get,serverName=_get(atoms_serverName.Z),cartItemsUrl=ServerUrl.Z.getCartItemsUrl(serverName),_context.next=5,fetch(cartItemsUrl,{method:"GET",headers:{Authorization:"Basic ".concat(constant.Wq)}});case 5:if(200===(response=_context.sent).status){_context.next=8;break}throw new Error("서버에 장애가 발생했습니다.");case 8:return _context.next=10,response.json();case 10:return cartItemList=_context.sent,_context.abrupt("return",cartItemList);case 12:case"end":return _context.stop()}}),_callee)}))),function get(_x){return _get2.apply(this,arguments)})}),selectors_fetchCartItems=fetchCartItems,atoms_cartState=(0,es.cn)({key:"cartState",default:selectors_fetchCartItems})},"./src/globalState/atoms/serverName.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constant/index.ts"),serverNameState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"serverNameState",default:_constant__WEBPACK_IMPORTED_MODULE_1__.jA});__webpack_exports__.Z=serverNameState},"./src/globalState/selectors/getCartStateController.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_atoms_cartState__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/globalState/atoms/cartState.ts"),getCartStateController=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"getCartStateController",get:function get(cartItemId){return function(_ref){var getCallback=_ref.getCallback;return{add:getCallback((function(_ref2){var set=_ref2.set;return function(newCartItemId,quantity,product){var newItem={quantity:quantity,product:product,id:newCartItemId};set(_atoms_cartState__WEBPACK_IMPORTED_MODULE_1__.Z,(function(prevCart){return[].concat((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(prevCart),[newItem])}))}})),set:getCallback((function(_ref3){var set=_ref3.set;return function(newQuantity){set(_atoms_cartState__WEBPACK_IMPORTED_MODULE_1__.Z,(function(prevCart){var productIndex=prevCart.findIndex((function(_ref4){return _ref4.id===cartItemId}));if(-1===productIndex)return prevCart;var newCart=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(prevCart);return newCart[productIndex]=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},newCart[productIndex]),{},{quantity:newQuantity}),newCart}))}})),delete:getCallback((function(_ref5){var set=_ref5.set;return function(){set(_atoms_cartState__WEBPACK_IMPORTED_MODULE_1__.Z,(function(prevCart){return prevCart.filter((function(_ref6){return _ref6.id!==cartItemId}))}))}}))}}}});__webpack_exports__.Z=getCartStateController},"./src/hooks/api/useCartItemApi.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_globalState_atoms_serverName__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/globalState/atoms/serverName.ts"),_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/ServerUrl.ts"),_constant__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constant/index.ts"),getCartItemId=function(){var _ref=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee(serverName,productId){var cartItemsUrl,response,cart,product;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return cartItemsUrl=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_2__.Z.getCartItemsUrl(serverName),_context.next=3,fetch(cartItemsUrl,{headers:{Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_3__.Wq)}});case 3:if((response=_context.sent).ok){_context.next=6;break}throw new Error("장바구니 목록을 불러오는 과정에서 문제가 발생했습니다.");case 6:return _context.next=8,response.json();case 8:return cart=_context.sent,product=cart.find((function(_ref2){return _ref2.product.id===productId})),_context.abrupt("return",product?product.id:null);case 11:case"end":return _context.stop()}}),_callee)})));return function getCartItemId(_x,_x2){return _ref.apply(this,arguments)}}();__webpack_exports__.Z=function useCartItemApi(){var serverName=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)(_globalState_atoms_serverName__WEBPACK_IMPORTED_MODULE_1__.Z),cartItemsUrl=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_2__.Z.getCartItemsUrl(serverName),addCartItem=function(){var _ref3=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee2(product){var response,cartItemId,mayBeCartItemId,_yield$response$json;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch(cartItemsUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_3__.Wq)},body:JSON.stringify({productId:product.id})});case 2:if((response=_context2.sent).ok){_context2.next=5;break}throw new Error("장바구니를 추가하는 과정에서 문제가 발생했습니다.");case 5:return cartItemId=null,_context2.prev=6,_context2.next=9,response.json();case 9:_yield$response$json=_context2.sent,mayBeCartItemId=_yield$response$json.cartItemId,_context2.next=16;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(6),mayBeCartItemId=null;case 16:if(null===mayBeCartItemId){_context2.next=21;break}cartItemId=mayBeCartItemId,console.log(mayBeCartItemId),_context2.next=24;break;case 21:return _context2.next=23,getCartItemId(serverName,product.id);case 23:cartItemId=_context2.sent;case 24:if(null!==cartItemId){_context2.next=26;break}throw new Error("장바구니를 추가하는 과정에서 문제가 발생했습니다.");case 26:return _context2.abrupt("return",cartItemId);case 27:case"end":return _context2.stop()}}),_callee2,null,[[6,13]])})));return function addCartItem(_x3){return _ref3.apply(this,arguments)}}(),deleteCartItem=function(){var _ref5=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee4(cartId){return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,fetch("".concat(cartItemsUrl,"/").concat(cartId),{method:"DELETE",headers:{Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_3__.Wq)}});case 2:if(_context4.sent.ok){_context4.next=5;break}throw new Error("장바구니를 삭제하는 과정에서 문제가 발생했습니다.");case 5:case"end":return _context4.stop()}}),_callee4)})));return function deleteCartItem(_x5){return _ref5.apply(this,arguments)}}();return{addCartItem:addCartItem,updateCartItemQuantity:function updateCartItemQuantity(cartId){return function(){var _ref4=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee3(quantity){return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(cartId){_context3.next=2;break}return _context3.abrupt("return");case 2:return _context3.next=4,fetch("".concat(cartItemsUrl,"/").concat(cartId),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_3__.Wq)},body:JSON.stringify({quantity:quantity})});case 4:if(_context3.sent.ok){_context3.next=7;break}throw new Error("장바구니를 업데이트하는 과정에서 문제가 발생했습니다.");case 7:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref4.apply(this,arguments)}}()},deleteCartItem:deleteCartItem}}},"./src/utils/ServerUrl.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constant/index.ts"),ServerUtil={getProductsUrl:function getProductsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.hM},getCartItemsUrl:function getCartItemsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Hi},getCouponsUrl:function getCouponsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Yv},getUserCouponsUrl:function getUserCouponsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.v8},getOrderUrl:function getOrderUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Er}};__webpack_exports__.Z=ServerUtil},"./src/utils/formatPrice.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{T:function(){return formatPrice}});var formatPrice=function formatPrice(price){return"".concat(price.toLocaleString("ko-KR"),"원")}}}]);