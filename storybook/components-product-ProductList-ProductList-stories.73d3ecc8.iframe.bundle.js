"use strict";(self.webpackChunkreact_shopping_cart=self.webpackChunkreact_shopping_cart||[]).push([[654],{"./src/components/product/ProductList/ProductList.stories.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ProductList_stories}});var _templateObject,_Default$parameters,_Default$parameters2,_Default$parameters2$,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),ProductItem=__webpack_require__("./src/components/product/ProductItem/ProductItem.tsx"),useFetch=__webpack_require__("./src/hooks/api/useFetch.ts"),atoms_serverName=__webpack_require__("./src/globalState/atoms/serverName.ts"),ServerUrl=__webpack_require__("./src/utils/ServerUrl.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ProductListContainer=styled_components_browser_esm.zo.ul(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(282px, 1fr));\n  grid-column-gap: 30px;\n  grid-row-gap: 48px;\n\n  place-items: center;\n\n  @media screen and (min-width: 1200px) {\n    grid-template-columns: repeat(4, minmax(282px, 1fr));\n  }\n"]))),ProductList_stories={title:"ProductList",component:function ProductList(){var serverName=(0,es.sJ)(atoms_serverName.Z),productsUrl=ServerUrl.Z.getProductsUrl(serverName),productList=(0,(0,useFetch.Z)(productsUrl).getData)();return(0,jsx_runtime.jsx)("section",{children:(0,jsx_runtime.jsx)(ProductListContainer,{children:null==productList?void 0:productList.map((function(_ref){var id=_ref.id,name=_ref.name,price=_ref.price,imageUrl=_ref.imageUrl;return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(ProductItem.Z,{id:id,name:name,price:price,imageUrl:imageUrl})},id)}))})})},tags:["autodocs"]},Default={};Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./src/hooks/api/useFetch.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_exports__.Z=function useFetch(url,authToken){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState2=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),_useState4=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState3,2),promise=_useState4[0],setPromise=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState6=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState5,2),error=_useState6[0],setError=_useState6[1],fetchData=function(){var _ref=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee(){var response,fetchedData;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url,{method:"GET",headers:authToken?{"Content-Type":"application/json",Authorization:"Basic ".concat(authToken)}:void 0});case 2:if(response=_context.sent,_context.prev=3,response.ok){_context.next=6;break}throw new Error("데이터를 불러오는 과정에서 문제가 생겼습니다.");case 6:return _context.next=8,response.json();case 8:fetchedData=_context.sent,setData(fetchedData),setError(null),_context.next=18;break;case 13:if(_context.prev=13,_context.t0=_context.catch(3),_context.t0 instanceof Error){_context.next=17;break}return _context.abrupt("return");case 17:setError(_context.t0);case 18:case"end":return _context.stop()}}),_callee,null,[[3,13]])})));return function fetchData(){return _ref.apply(this,arguments)}}();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setData(null),setError(null),setPromise(fetchData())}),[url]);return{getData:function getData(){if(error)throw error;if(null===data&&promise)throw promise;return data},fetchData:fetchData}}}}]);