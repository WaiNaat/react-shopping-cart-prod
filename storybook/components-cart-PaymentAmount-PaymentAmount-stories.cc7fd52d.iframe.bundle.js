"use strict";(self.webpackChunkreact_shopping_cart=self.webpackChunkreact_shopping_cart||[]).push([[801],{"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,{Z:function(){return _arrayLikeToArray}})},"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectSpread2}});var toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperty(obj,key,value){return(key=(0,toPropertyKey.Z)(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _slicedToArray}});var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||(0,unsupportedIterableToArray.Z)(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toPropertyKey}});var esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==(0,esm_typeof.Z)(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==(0,esm_typeof.Z)(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===(0,esm_typeof.Z)(key)?key:String(key)}},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _unsupportedIterableToArray}});var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o,minLen):void 0}}},"./src/components/cart/PaymentAmount/PaymentAmount.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return PaymentAmount_stories}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_Default$parameters,_Default$parameters2,_Default$parameters2$,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),formatPrice=__webpack_require__("./src/utils/formatPrice.ts"),CheckedListProvider=__webpack_require__("./src/provider/CheckedListProvider.tsx"),cartState=__webpack_require__("./src/globalState/atoms/cartState.ts"),PaymentAmount_usePaymentAmount=function usePaymentAmount(){var cartList=(0,es.sJ)(cartState.Z),checkedCartList=(0,CheckedListProvider.m)().checkedCartList,orderingItems=cartList.filter((function(cartItem){return checkedCartList.includes(cartItem.id)}));return{paymentAmount:orderingItems.reduce((function(acc,cartItem){return acc+cartItem.product.price*cartItem.quantity}),0),deliveryFee:checkedCartList.length?3e3:0,orderingItems:orderingItems}},atoms_serverName=__webpack_require__("./src/globalState/atoms/serverName.ts"),LoadingSpinner=__webpack_require__("./src/components/common/LoadingSpinner/LoadingSpinner.tsx"),Colors=__webpack_require__("./src/constant/Colors.ts"),constant=__webpack_require__("./src/constant/index.ts"),ServerUrl=__webpack_require__("./src/utils/ServerUrl.ts"),getAllList=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(serverName){var url,response,_yield$response$json,orders;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=ServerUrl.Z.getOrderUrl(serverName),_context.next=3,fetch(url,{method:"GET",headers:{Authorization:"Basic ".concat(constant.Wq)}});case 3:if(200===(response=_context.sent).status){_context.next=6;break}throw new Error("주문목록 불러오기를 실패했어요.");case 6:return _context.next=8,response.json();case 8:return _yield$response$json=_context.sent,orders=_yield$response$json.orders,_context.abrupt("return",orders);case 11:case"end":return _context.stop()}}),_callee)})));return function getAllList(_x){return _ref.apply(this,arguments)}}(),purchase=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(serverName,body){var url,response,_yield$response$json2,orderId;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=ServerUrl.Z.getOrderUrl(serverName),_context2.next=3,fetch(url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(constant.Wq)},body:JSON.stringify(body)});case 3:if(201===(response=_context2.sent).status){_context2.next=6;break}throw new Error("주문에 실패했어요.");case 6:return _context2.next=8,response.json();case 8:return _yield$response$json2=_context2.sent,orderId=_yield$response$json2.orderId,_context2.abrupt("return",orderId);case 11:case"end":return _context2.stop()}}),_callee2)})));return function purchase(_x2,_x3){return _ref2.apply(this,arguments)}}(),Order={getAllList:getAllList,purchase:purchase},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PaymentAmount=function PaymentAmount(props){var coupon=props.coupon,_usePaymentAmount=PaymentAmount_usePaymentAmount(),paymentAmount=_usePaymentAmount.paymentAmount,deliveryFee=_usePaymentAmount.deliveryFee,orderingItems=_usePaymentAmount.orderingItems,serverName=(0,es.sJ)(atoms_serverName.Z),setCartState=(0,es.Zl)(cartState.Z),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isOrdering=_useState2[0],setIsOrdering=_useState2[1],navigate=(0,dist.s0)(),discountedPrice=coupon?"percent"===coupon.type?Math.ceil(paymentAmount*(coupon.amount/100)):coupon.amount:0,finalPrice=Math.max(Math.floor(paymentAmount-discountedPrice)+deliveryFee,0),order=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var orderId;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(orderingItems.length){_context.next=3;break}return alert("주문할 상품이 없습니다!"),_context.abrupt("return");case 3:if(window.confirm("정말로 주문하시겠습니까?")){_context.next=5;break}return _context.abrupt("return");case 5:return setIsOrdering(!0),_context.prev=6,_context.next=9,Order.purchase(serverName,{cartItems:orderingItems,couponIds:coupon?[coupon.id]:[],deliveryFee:deliveryFee});case 9:orderId=_context.sent,_context.next=17;break;case 12:return _context.prev=12,_context.t0=_context.catch(6),alert("추문에 실패하였습니다. 잠시 후 다시 시도해 주세요!"),setIsOrdering(!1),_context.abrupt("return");case 17:setIsOrdering(!1),setCartState((function(prevCart){var orderedCartItemIds=orderingItems.map((function(_ref2){return _ref2.id}));return prevCart.filter((function(_ref3){var id=_ref3.id;return!orderedCartItemIds.includes(id)}))})),navigate("/order-complete",{replace:!0,state:{orderId:orderId}});case 20:case"end":return _context.stop()}}),_callee,null,[[6,12]])})));return function order(){return _ref.apply(this,arguments)}}();return(0,jsx_runtime.jsxs)(PaymentAmountContainer,{children:[(0,jsx_runtime.jsx)(Title,{children:"결제예상금액"}),(0,jsx_runtime.jsxs)(Contents,{children:[(0,jsx_runtime.jsxs)(AmountTextContainer,{marginbottom:"20px",children:[(0,jsx_runtime.jsx)(AmountText,{children:"총 가격"}),(0,jsx_runtime.jsx)(AmountText,{children:(0,formatPrice.T)(paymentAmount)})]}),discountedPrice?(0,jsx_runtime.jsxs)(AmountTextContainer,{marginbottom:"40px",children:[(0,jsx_runtime.jsxs)(AmountText,{children:[(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:"┖ "}),"쿠폰 적용"]}),(0,jsx_runtime.jsxs)(AmountText,{children:["-",(0,formatPrice.T)(discountedPrice)]})]}):null,(0,jsx_runtime.jsxs)(AmountTextContainer,{marginbottom:"40px",children:[(0,jsx_runtime.jsx)(AmountText,{children:"배송비"}),(0,jsx_runtime.jsx)(AmountText,{children:(0,formatPrice.T)(deliveryFee)})]}),(0,jsx_runtime.jsxs)(AmountTextContainer,{marginbottom:"45px",children:[(0,jsx_runtime.jsx)(AmountText,{children:" 최종 금액"}),(0,jsx_runtime.jsx)(AmountText,{children:(0,formatPrice.T)(finalPrice)})]}),(0,jsx_runtime.jsx)(OrderButton,{onClick:function onClick(){return order()},children:"주문하기"})]}),isOrdering?(0,react_dom.createPortal)((0,jsx_runtime.jsxs)(OrderingDiv,{children:[(0,jsx_runtime.jsx)(OrderBackdropDiv,{}),(0,jsx_runtime.jsx)(LoadingSpinner.Z,{color:Colors.Z.staleTurquoise})]}),document.body):null]})},PaymentAmountContainer=styled_components_browser_esm.zo.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  margin-top: 30px;\n  width: 100%;\n\n  border: 1px solid ",";\n\n  @media screen and (max-width: 1320px) {\n    width: 100%;\n  }\n"])),Colors.Z.grey4),Title=styled_components_browser_esm.zo.h4(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  padding: 20px 30px;\n\n  font-weight: 400;\n  font-size: 24px;\n  color: ",";\n\n  border-bottom: 3px solid ",";\n"])),Colors.Z.grey1,Colors.Z.grey4),Contents=styled_components_browser_esm.zo.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n  width: 100%;\n\n  padding: 35px;\n"]))),AmountTextContainer=styled_components_browser_esm.zo.div(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n\n  justify-content: space-between;\n\n  margin-bottom: ",";\n"])),(function(_ref4){return _ref4.marginbottom||"0"})),AmountText=styled_components_browser_esm.zo.p(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  font-weight: 700;\n  font-size: 20px;\n  color: ",";\n"])),Colors.Z.grey1),OrderButton=styled_components_browser_esm.zo.button(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n  width: 100%;\n  height: 73px;\n\n  border: none;\n  background-color: ",";\n\n  font-weight: 400;\n  font-size: 24px;\n  color: ",";\n\n  cursor: pointer;\n"])),Colors.Z.grey1,Colors.Z.white),OrderingDiv=styled_components_browser_esm.zo.div(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.Z)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  z-index: 2;\n"]))),OrderBackdropDiv=styled_components_browser_esm.zo.div(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.Z)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n\n  width: 100%;\n  height: 100%;\n\n  background-color: ","66;\n"])),Colors.Z.grey1),PaymentAmount_PaymentAmount=PaymentAmount;try{PaymentAmount.displayName="PaymentAmount",PaymentAmount.__docgenInfo={description:"",displayName:"PaymentAmount",props:{coupon:{defaultValue:null,description:"",name:"coupon",required:!1,type:{name:"CouponInfo"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cart/PaymentAmount/PaymentAmount.tsx#PaymentAmount"]={docgenInfo:PaymentAmount.__docgenInfo,name:"PaymentAmount",path:"src/components/cart/PaymentAmount/PaymentAmount.tsx#PaymentAmount"})}catch(__react_docgen_typescript_loader_error){}var PaymentAmount_stories={title:"PaymentAmount",component:function MockPaymentAmount(){return(0,es.Zl)(cartState.Z)([{id:"0",quantity:1,product:{id:0,name:"순살치킨 1KG",price:9900,imageUrl:"https://cdn-mart.baemin.com/sellergoods/main/c6f2f083-a8b8-4799-834b-444b5eaeb532.png?h=400&w=400"}},{id:"1",quantity:2,product:{id:1,name:"리코스 나초칩 454g",price:6200,imageUrl:"https://cdn-mart.baemin.com/sellergoods/main/bf308ce9-cbe5-45a0-808a-4fdda168f992.jpg?h=400&w=400"}}]),(0,jsx_runtime.jsx)(CheckedListProvider.Z,{children:(0,jsx_runtime.jsx)(PaymentAmount_PaymentAmount,{})})},tags:["autodocs"]},Default={};Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./src/api/Cart.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constant/index.ts"),_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/ServerUrl.ts"),getAllList=function(){var _ref=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee(serverName){var url,response,data;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_1__.Z.getCartItemsUrl(serverName),_context.next=3,fetch(url,{method:"GET",headers:{Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_0__.Wq)}});case 3:if(200===(response=_context.sent).status){_context.next=6;break}throw new Error("장바구니 불러오기를 실패했어요.");case 6:return _context.next=8,response.json();case 8:return data=_context.sent,_context.abrupt("return",data);case 10:case"end":return _context.stop()}}),_callee)})));return function getAllList(_x){return _ref.apply(this,arguments)}}(),findCartItemId=function(){var _ref2=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee2(serverName,productId){var cart,product;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,getAllList(serverName);case 2:return cart=_context2.sent,product=cart.find((function(_ref3){return _ref3.product.id===productId})),_context2.abrupt("return",product?product.id:null);case 5:case"end":return _context2.stop()}}),_callee2)})));return function findCartItemId(_x2,_x3){return _ref2.apply(this,arguments)}}(),addNewItem=function(){var _ref4=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee3(serverName,productId){var url,response,cartItemId,_yield$response$json;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return url=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_1__.Z.getCartItemsUrl(serverName),_context3.next=3,fetch(url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_0__.Wq)},body:JSON.stringify({productId:productId})});case 3:if(201===(response=_context3.sent).status){_context3.next=6;break}throw new Error("장바구니 상품 담기를 실패했어요.");case 6:return _context3.prev=6,_context3.next=9,response.json();case 9:_yield$response$json=_context3.sent,cartItemId=_yield$response$json.cartItemId,_context3.next=18;break;case 13:return _context3.prev=13,_context3.t0=_context3.catch(6),_context3.next=17,findCartItemId(serverName,productId);case 17:cartItemId=_context3.sent;case 18:if(cartItemId){_context3.next=20;break}throw new Error("장바구니 상품 담기를 실패했어요.");case 20:return _context3.abrupt("return",cartItemId);case 21:case"end":return _context3.stop()}}),_callee3,null,[[6,13]])})));return function addNewItem(_x4,_x5){return _ref4.apply(this,arguments)}}(),changeQuantity=function(){var _ref5=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee4(serverName,cartItemId,quantity){var url,response;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return url=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_1__.Z.getCartItemsUrl(serverName),_context4.next=3,fetch("".concat(url,"/").concat(cartItemId),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_0__.Wq)},body:JSON.stringify({quantity:quantity})});case 3:if(200===(response=_context4.sent).status){_context4.next=6;break}throw new Error("장바구니 상품 개수 변경에 실패했어요.");case 6:return _context4.abrupt("return",response.ok);case 7:case"end":return _context4.stop()}}),_callee4)})));return function changeQuantity(_x6,_x7,_x8){return _ref5.apply(this,arguments)}}(),deleteItem=function(){var _ref6=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee5(serverName,cartItemId){var url,response;return(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return url=_utils_ServerUrl__WEBPACK_IMPORTED_MODULE_1__.Z.getCartItemsUrl(serverName),_context5.next=3,fetch("".concat(url,"/").concat(cartItemId),{method:"DELETE",headers:{Authorization:"Basic ".concat(_constant__WEBPACK_IMPORTED_MODULE_0__.Wq)}});case 3:if(204===(response=_context5.sent).status){_context5.next=6;break}throw new Error("장바구니 상품 삭제를 실패했어요.");case 6:return _context5.abrupt("return",response.ok);case 7:case"end":return _context5.stop()}}),_callee5)})));return function deleteItem(_x9,_x10){return _ref6.apply(this,arguments)}}(),CartApi={getAllList:getAllList,addNewItem:addNewItem,changeQuantity:changeQuantity,deleteItem:deleteItem};__webpack_exports__.Z=CartApi},"./src/components/common/LoadingSpinner/LoadingSpinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LoadingSpinner=function LoadingSpinner(props){var diameter=props.diameter,spinnerWidth=props.spinnerWidth,color=props.color;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SpinnerDiv,{style:{width:null!=diameter?diameter:"77px",height:null!=diameter?diameter:"77px",borderWidth:null!=spinnerWidth?spinnerWidth:"7px",borderTopColor:null!=color?color:"hotpink"}})},SpinnerDiv=styled_components__WEBPACK_IMPORTED_MODULE_1__.ZP.div(_templateObject||(_templateObject=(0,C_Users_Q_Documents_GitHub_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n  content: '';\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  border: 10px solid rgba(0, 0, 0, 0.05);\n  border-top-color: rgb(255, 105, 180);\n  border-radius: 50%;\n\n  animation: spin 2.3s cubic-bezier(0.2, 0.33, 0.8, 0.33) infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0);\n    }\n    33% {\n      transform: rotate(120deg);\n    }\n    67% {\n      transform: rotate(240deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])));__webpack_exports__.Z=LoadingSpinner;try{LoadingSpinner.displayName="LoadingSpinner",LoadingSpinner.__docgenInfo={description:"",displayName:"LoadingSpinner",props:{diameter:{defaultValue:null,description:"",name:"diameter",required:!1,type:{name:"string"}},spinnerWidth:{defaultValue:null,description:"",name:"spinnerWidth",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/LoadingSpinner/LoadingSpinner.tsx#LoadingSpinner"]={docgenInfo:LoadingSpinner.__docgenInfo,name:"LoadingSpinner",path:"src/components/common/LoadingSpinner/LoadingSpinner.tsx#LoadingSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/constant/Colors.ts":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={grey1:"#333333",grey2:"#888888",grey3:"#aaaaaa",grey4:"#dddddd",white:"#ffffff",staleTurquoise:"#04c09e",blue:"#3288ff"}},"./src/constant/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Er:function(){return ORDER_PATH_NAME},Hi:function(){return CART_ITEMS_PATH_NAME},Wq:function(){return USER_AUTH_TOKEN},Yv:function(){return ALL_COUPONS_PATH_NAME},_n:function(){return BASE_URL},hM:function(){return PRODUCTS_PATH_NAME},jA:function(){return DEFAULT_SERVER_NAME},v8:function(){return USER_COUPONS_PATH_NAME}});var BASE_URL={"참새MSW":"","누누":"https://nunu.bview.store","체인저":"https://shopping-cart.woojin.life","필립":"https://shopping.pilyang.com","필립2":"https://philip.bview.store","백엔드짱":"https://sorry.bview.store"},DEFAULT_SERVER_NAME=Object.keys(BASE_URL)[0],PRODUCTS_PATH_NAME="/products",CART_ITEMS_PATH_NAME="/cart-items",ALL_COUPONS_PATH_NAME="/coupons",USER_COUPONS_PATH_NAME="/coupons/me",ORDER_PATH_NAME="/orders",USER_AUTH_TOKEN=btoa("".concat("a@a.com",":").concat("1234"))},"./src/globalState/atoms/cartState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return atoms_cartState}});var _get2,es=__webpack_require__("./node_modules/recoil/es/index.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),atoms_serverName=__webpack_require__("./src/globalState/atoms/serverName.ts"),Cart=__webpack_require__("./src/api/Cart.ts"),fetchCartItems=(0,es.nZ)({key:"fetchCartItems",get:(_get2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(_ref){var _get,serverName,cartItemList;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _get=_ref.get,serverName=_get(atoms_serverName.Z),_context.next=4,Cart.Z.getAllList(serverName);case 4:return cartItemList=_context.sent,_context.abrupt("return",cartItemList);case 6:case"end":return _context.stop()}}),_callee)}))),function get(_x){return _get2.apply(this,arguments)})}),selectors_fetchCartItems=fetchCartItems,atoms_cartState=(0,es.cn)({key:"cartState",default:selectors_fetchCartItems})},"./src/globalState/atoms/serverName.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constant/index.ts"),serverNameState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"serverNameState",default:_constant__WEBPACK_IMPORTED_MODULE_1__.jA});__webpack_exports__.Z=serverNameState},"./src/provider/CheckedListProvider.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return provider_CheckedListProvider},m:function(){return useCheckedCartListValue}});var react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),cartState=__webpack_require__("./src/globalState/atoms/cartState.ts"),atoms_serverName=__webpack_require__("./src/globalState/atoms/serverName.ts"),hooks_useCheckedCartList=function useCheckedCartList(){var cartList=(0,es.sJ)(cartState.Z),_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),checkedCartList=_useState2[0],setCheckedCartList=_useState2[1],serverName=(0,es.sJ)(atoms_serverName.Z);(0,react.useEffect)((function(){var checkedCartItemIds=cartList.map((function(cartItem){return cartItem.id}));setCheckedCartList(checkedCartItemIds)}),[serverName]);return{checkedCartList:checkedCartList,addCheckedItem:function addCheckedItem(id){setCheckedCartList((function(prevList){return[].concat((0,toConsumableArray.Z)(prevList),[id])}))},deleteCheckedItem:function deleteCheckedItem(targetId){setCheckedCartList((function(prevList){return prevList.filter((function(id){return id!==targetId}))}))},isChecked:function isChecked(id){return checkedCartList.includes(id)},addAllCheckedItem:function addAllCheckedItem(){setCheckedCartList(cartList.map((function(cartItem){return cartItem.id})))},deleteAllCheckedItem:function deleteAllCheckedItem(){setCheckedCartList([])},isAllChecked:function isAllChecked(){return cartList.length===checkedCartList.length}}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CheckedCartListContext=(0,react.createContext)(null),useCheckedCartListValue=function useCheckedCartListValue(){var value=(0,react.useContext)(CheckedCartListContext);if(null===value)throw new Error("CheckedCartListContext 에러");return value},provider_CheckedListProvider=function CheckedCartListProvider(_ref){var children=_ref.children,value=hooks_useCheckedCartList();return(0,jsx_runtime.jsx)(CheckedCartListContext.Provider,{value:value,children:children})};try{CheckedListProvider.displayName="CheckedListProvider",CheckedListProvider.__docgenInfo={description:"",displayName:"CheckedListProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/provider/CheckedListProvider.tsx#CheckedListProvider"]={docgenInfo:CheckedListProvider.__docgenInfo,name:"CheckedListProvider",path:"src/provider/CheckedListProvider.tsx#CheckedListProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/ServerUrl.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constant/index.ts"),ServerUtil={getProductsUrl:function getProductsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.hM},getCartItemsUrl:function getCartItemsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Hi},getCouponsUrl:function getCouponsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Yv},getUserCouponsUrl:function getUserCouponsUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.v8},getOrderUrl:function getOrderUrl(serverName){return _constant__WEBPACK_IMPORTED_MODULE_0__._n[serverName]+_constant__WEBPACK_IMPORTED_MODULE_0__.Er}};__webpack_exports__.Z=ServerUtil},"./src/utils/formatPrice.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{T:function(){return formatPrice}});var formatPrice=function formatPrice(price){return"".concat(price.toLocaleString("ko-KR"),"원")}}}]);